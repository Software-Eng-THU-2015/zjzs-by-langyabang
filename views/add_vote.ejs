<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="add vote" content="zjzs manager add vote activity">
    <link href="/lib/bs/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="/stylesheets/activity_list.css"/>
    <link rel="stylesheet" href="/stylesheets/activity_detail.css"/>
    <link rel="stylesheet" href="/stylesheets/css3_specified.css"/>
    <title><%= activity.name %>- 紫荆之声票务管理系统</title>
</head>
<body>
<header class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" style="cursor:default">“紫荆之声”票务管理系统</a>
        </div>
        <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
                <li >
                    <a class="btn-link" href="/users/manage/list">活动列表</a>
                </li>
                <li>
                    <a class="btn-link" href="/users/manage/vote">投票活动</a>
                </li>
                <li class="active">
                    <a href="/users/manage/addvote"><%= activity.name%></a>
                </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
                <li>
                    <a href="/logout">登出</a>
                </li>
            </ul>
        </div>
    </div>
</header>
<div id="content" style="padding-top: 80px;">
    <div class="container" id="detail-form" style="display: block;">
        <form class="form-horizontal" role="form" method="post" action="/users/manage/addvote" id="activity-form">
            <div class="form-group">
                <label for="input-name" class="col-sm-2 control-label" id="label-input-name">活动名称</label>
                <div class="col-sm-10">
                    <input type="text" maxlength="26" name="name" class="form-control" id="input-name" placeholder="活动名称"/>
                </div>
            </div>
            <div class="form-group">
                <label for="input-key" class="col-sm-2 control-label">活动代称</label>
                <div class="col-sm-10">
                    <input type="text" maxlength="12" name="key" class="form-control" id="input-key" placeholder="投票活动代称(少于7字)"/>
                </div>
            </div>
            <div class="form-group">
                <label for="input-key" class="col-sm-2 control-label">活动举办方</label>
                <div class="col-sm-10">
                    <input type="text" maxlength="12" name="principal" class="form-control" id="input-key" placeholder="活动举办方"/>
                </div>
            </div>
            <div class="form-group">
                <label for="input-description" class="col-sm-2 control-label" wrap="hard">活动简介</label>
                <div class="col-sm-10">
                    <textarea class="form-control" name="description" rows="3" id="input-description" placeholder="活动描述" row="3" style="resize: none;"></textarea>
                </div>
            </div>
            <div class="form-group">
                <label for="input-pic-url" class="col-sm-2 control-label" min="0">活动配图</label>
                <div class="col-sm-10">
                    <input type="url" name="pic_url" class="form-control" style="width: 80%;display: inline;" id="input-pic-url" min="0" placeholder="请选择图片"/>
                    <button type="button" class="btn btn-info" style="width: 17%; float: right;" id="input-upload-pic">上传本地图片</button>
                </div>
            </div>

            <div class="form-group">
                <label for="input-start-year" class="col-sm-2 control-label">活动开始</label>
                <div class="form-inline col-sm-10" id="input-start_time">
                    <div class="form-group date-input">
                        <input class="form-control" maxlength="4" type="number" name="inputstartyear" value=""
                               date-part="year" placeholder="年，>=2015" min="2015" max="2100" step="1">
                    </div>
                    <div class="form-group date-label">
                        <label class="control-label" for="input-start-year">年</label>
                    </div>
                    <div class="form-group date-input">
                        <input class="form-control" maxlength="2" type="number" name="inputstartmonth" value="" date-part="month"
                               placeholder="月，1-12" min="1" max="12" step="1">
                    </div>
                    <div class="form-group date-label">
                        <label class="control-label" for="input-start-month">月</label>
                    </div>
                    <div class="form-group date-input">
                        <input class="form-control" maxlength="2" type="number" name="inputstartday" value="" date-part="day"
                               placeholder="日，1-31" min="1" max="31" step="1">
                    </div>
                    <div class="form-group date-label">
                        <label class="control-label" for="input-start-day">日</label>
                    </div>
                    <div class="form-group date-offset">
                    </div>
                    <div class="form-group date-input">
                        <input class="form-control" maxlength="2" type="number" name="inputstarthour" value="" date-part="hour"
                               placeholder="小时，0-23" min="0" max="23" step="1">
                    </div>
                    <div class="form-group date-label">
                        <label class="control-label" for="input-start-hour">时</label>
                    </div>
                    <div class="form-group date-input">
                        <input class="form-control" maxlength="2" type="number" name="inputstartminute" value="" date-part="minute"
                               placeholder="分钟，0-59"min="0" max="59" step="1">
                    </div>
                    <div class="form-group date-label">
                        <label class="control-label" for="input-start-minute">分</label>
                    </div>
                </div>
            </div>
            <div class="form-group">
                <label for="input-end-year" class="col-sm-2 control-label">活动结束</label>
                <div class="form-inline col-sm-10" id="input-end_time">
                    <div class="form-group date-input">
                        <input class="form-control" maxlength="4" type="number" name="inputendyear" value=""
                               date-part="year" placeholder="年，>=2015" min="2015" max="2100" step="1">
                    </div>
                    <div class="form-group date-label">
                        <label class="control-label" for="input-end-year">年</label>
                    </div>
                    <div class="form-group date-input">
                        <input class="form-control" maxlength="2" type="number" name="inputendmonth" value="" date-part="month"
                               placeholder="月，1-12" min="1" max="12" step="1">
                    </div>
                    <div class="form-group date-label">
                        <label class="control-label" for="input-end-month">月</label>
                    </div>
                    <div class="form-group date-input">
                        <input class="form-control" maxlength="2" type="number" name="inputendday" value="" date-part="day"
                               placeholder="日，1-31" min="1" max="31" step="1">
                    </div>
                    <div class="form-group date-label">
                        <label class="control-label" for="input-end-day">日</label>
                    </div>
                    <div class="form-group date-offset">
                    </div>
                    <div class="form-group date-input">
                        <input class="form-control" maxlength="2" type="number" name="inputendhour" value="" date-part="hour"
                               placeholder="小时，0-23" min="0" max="23" step="1">
                    </div>
                    <div class="form-group date-label">
                        <label class="control-label" for="input-end-hour">时</label>
                    </div>
                    <div class="form-group date-input">
                        <input class="form-control" maxlength="2" type="number" name="inputendminute" value="" date-part="minute"
                               placeholder="分钟，0-59"min="0" max="59" step="1">
                    </div>
                    <div class="form-group date-label">
                        <label class="control-label" for="input-end-minute">分</label>
                    </div>
                </div>
            </div>

            <div class="form-group">
                <label for="questions_number" class="col-sm-2 control-label">问题数量</label>
                <div class="col-sm-10">
                    <input type="number" class="form-control" name="questions_number" placeholder="问题数量" min="1" value="2"/>
                </div>
            </div>

            <div class="form-group" style="display: block;" id="question1">
                <label for="input_question1" class="col-sm-2 control-label" wrap="hard">问题1</label>
                <div class="col-sm-10">
                    <textarea class="form-control" name="question1" id="input_question1" placeholder="问题描述" style="resize: none;"></textarea>
                </div>
            </div>
            <div class="form-group" style="display: none;" id="option1_number">
                <label for="question1_options" class="col-sm-2 control-label">选项数量</label>
                <div class="col-sm-10">
                    <input type="number" class="form-control" name="question1_options" placeholder="选项数量" value="4"/>
                </div>
            </div>
            <div class="form-group" style="display: block;" id="option11">
                <label for="option11" class="col-sm-2 control-label">选项</label>
                <div class="col-sm-10 form-inline" id="input_options1">
                    <div class="form-group date-label">
                        <label for="option11" class="control-label">A</label>
                    </div>
                    <div class="form-group date-input">
                        <input type="text" class="form-control" name="option11"/>
                    </div>
                    <div class="form-group date-label">
                        <label for="option12" class="control-label">B</label>
                    </div>
                    <div class="form-group date-input">
                        <input type="text" class="form-control" name="option12"/>
                    </div>
                    <div class="form-group date-label">
                        <label for="option13" class="control-label">C</label>
                    </div>
                    <div class="form-group date-input">
                        <input type="text" class="form-control" name="option13"/>
                    </div>
                    <div class="form-group date-label">
                        <label for="option14" class="control-label">D</label>
                    </div>
                    <div class="form-group date-input">
                        <input type="text" class="form-control" name="option14"/>
                    </div>
                </div>
            </div>

            <div class="form-group" style="display: block;" id="question2">
                <label for="input_question2" class="col-sm-2 control-label" wrap="hard">问题2</label>
                <div class="col-sm-10">
                    <textarea class="form-control" name="question2" name="input_question2" placeholder="问题描述" style="resize: none;"></textarea>
                </div>
            </div>
            <div class="form-group" style="display: none;" id="option1_number">
                <label for="question1_options" class="col-sm-2 control-label">选项数量</label>
                <div class="col-sm-10">
                    <input type="number" class="form-control" name="question2_options" placeholder="选项数量" value="4"/>
                </div>
            </div>
            <div class="form-group" style="display: block;" id="option21">
                <label for="option11" class="col-sm-2 control-label">选项</label>
                <div class="col-sm-10 form-inline" id="input_options2">
                    <div class="form-group date-label">
                        <label for="option21" class="control-label">A</label>
                    </div>
                    <div class="form-group date-input">
                        <input type="text" class="form-control" name="option22"/>
                    </div>
                    <div class="form-group date-label">
                        <label for="option22" class="control-label">B</label>
                    </div>
                    <div class="form-group date-input">
                        <input type="text" class="form-control" name="option22"/>
                    </div>
                    <div class="form-group date-label">
                        <label for="option23" class="control-label">C</label>
                    </div>
                    <div class="form-group date-input">
                        <input type="text" class="form-control" name="option23"/>
                    </div>
                    <div class="form-group date-label">
                        <label for="option24" class="control-label">D</label>
                    </div>
                    <div class="form-group date-input">
                        <input type="text" class="form-control" name="option24"/>
                    </div>
                </div>
            </div>

            <div class="form-group">
                <div class="col-sm-offset-2 col-sm-10">
                    <button type="submit" class="btn btn-primary" id="publishBtn">发布</button>
                    <button type="button" class="btn btn-default" id="saveBtn">暂存</button>
                    <button type="reset" class="btn btn-warning" id="resetBtn">重置</button>
                </div>
            </div>
        </form>
    </div>
    <div class="container" id="detail-processing" style="display: none;">
        <img src="/img/loading.gif">正在执行，请稍后……
    </div>
    <div class="container" id="detail-result" style="display: none;">
        <h1>处理结果</h1>
        <pre id="resultHolder"></pre>
        <div class="col-sm-offset-2">
            <button class="btn btn-info" id="continueBtn">继续修改</button>
            <a class="btn btn-success" href="/users/manage/vote">返回投票活动</a>
        </div>
    </div>
</div>
<div id="globalCover" style="position:fixed;width:100%;height:100%;left:0px;top:0px;z-index:100;visibility:hidden;">
    <div id="alphaCover" class="transformer" style="position:absolute;width:100%;height:100%;left:0px;top:0px;background-color:black;opacity:0.3"></div>
    <div id="windowCover" class="transformer shadowBlue" style="position:relative;width:500px;height:200px;margin:0 auto;top:10%;background-color:white;border-radius:3px">
        <form action="/users/upload" method="post" id="fileUploader" enctype="multipart/form-data">
            <div style="position:absolute;top:40px;left:60px;color:#FF4411;width:370px;">
                请保证图片文件小于1MB，上传后活动配图将被自动填写，如需保留请勿改动。
            </div>
            <input type="file" name="upfile" id="upfile" style="position:absolute;top:100px;left:60px" />
            <button type="submit" class="btn btn-default" style="position:absolute;width:80px;height:40px;bottom:20px;right:60px">上传</button>
            <div id="errCosntent" style="position:absolute;align:right;height:40px;top:149px;right:155px;color:#FF0000">
            </div>
        </form>
    </div>
</div>
<footer class="bs-footer" role="contentinfo">
    <hr/>
    <div class="container">
        <p style="text-align: center;">清华紫荆之声 &copy; 2015</p>
    </div>
</footer>
<script src="/lib/jq/jquery-1.10.2.min.js"></script>
<script src="/lib/bs/js/bootstrap.min.js"></script>
<script src="/lib/jq/form/jquery.form.min.js"></script>
<script src="/javascripts/uploader.js"></script>
<script src="/javascripts/add_vote.js"></script>
</body>
</html>